{
    "version": 2,
    "projects": [
      {
        "name": "frontend",
        "root": "src/client",
        "buildCommand": "npm run dev",
        "outputDirectory": "dist",
        "framework": "vite",
        "builds": [
          {
            "src": "/",
            "use": "@vercel/static-build",
            "config": {
              "distDir": "dist"
            }
          }
        ]
      },
      {
        "name": "backend",
        "root": "src/server",
        "buildCommand": "npm start",
        "outputDirectory": "api",
        "builds": [
          {
            "src": "src/server/index.js",
            "use": "@vercel/node",
            "config": {
              "includeFiles": ["src/server/**/*"]
            }
          }
        ]
      }
    ],
    "routes": [
      {
        "src": "/api/(.*)",
        "dest": "/api/$1"
      },
      {
        "src": "/(.*)",
        "dest": "/client/dist/$1"
      }
    ]
  }
  